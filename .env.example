# ============================================
# CONFIGURACI√ìN DE SUPABASE (REQUERIDO)
# ============================================
# Obt√©n estas credenciales desde tu proyecto en Supabase
# Dashboard ‚Üí Settings ‚Üí API

VITE_SUPABASE_URL=wngjyrkqxblnhxliakqj
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InduZ2p5cmtxeGJsbmh4bGlha3FqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3MjQ3NDEsImV4cCI6MjA3ODMwMDc0MX0.u8ZcugaNYFnl_j0Acex8GQTFoDcUeRJibiL0aOe7yW0
# (Opcional pero recomendado) Service Role Key para funciones server-side
# SOLO usar en server/Edge Functions seguras (NO exponer en el cliente)
# En Vercel/Netlify: configura en las Variables de Entorno del proyecto
SUPABASE_SERVICE_ROLE_KEY=tu_service_role_key_aqui

# ============================================
# ENV√çO DE EMAILS - EmailJS (RECOMENDADO)
# ============================================
# Para enviar facturas por email a los clientes
# Plan gratuito: 200 emails/mes
# Registrarse en: https://www.emailjs.com
# Ver gu√≠a completa: docs/setup/CONFIGURAR_EMAILJS.md

VITE_EMAILJS_PUBLIC_KEY=tu_public_key_aqui
VITE_EMAILJS_SERVICE_ID=tu_service_id_aqui
VITE_EMAILJS_TEMPLATE_ID=tu_template_id_aqui

# ============================================
# ENV√çO DE EMAILS - Resend (ALTERNATIVA)
# ============================================
# Si prefieres usar Resend en lugar de EmailJS
# Plan gratuito: 100 emails/d√≠a
# Registrarse en: https://resend.com
# NOTA: Requiere configurar Edge Function en Supabase

# VITE_RESEND_API_KEY=re_123456789_tu_api_key_aqui

# ============================================
# üß™ EMAIL TESTING (DESARROLLO LOCAL)
# ============================================
# ‚ö†Ô∏è IMPORTANTE: Para prevenir bounced emails
# En desarrollo local (localhost), todos los emails se redirigen
# a esta direcci√≥n de testing. USA UN EMAIL REAL Y V√ÅLIDO.
#
# Ejemplo: VITE_TEST_EMAIL=tu-email-personal@gmail.com
# Los emails tendr√°n prefijo [TEST MODE] con el email original

VITE_TEST_EMAIL=tu-email-testing@gmail.com

# ============================================
# üì® SMTP PERSONALIZADO (Opcional - Producci√≥n)
# ============================================
# Recomendado para mejor deliverability y control total
# Elige UNA de las siguientes opciones:

# Opci√≥n 1: Resend (Recomendado)
# Plan gratuito: 3,000 emails/mes
# Mejor deliverability, f√°cil setup
# VITE_RESEND_API_KEY=re_xxxxxxxxxxxxx
# VITE_RESEND_FROM_EMAIL=noreply@tudominio.com

# Opci√≥n 2: SendGrid
# Plan gratuito: 100 emails/d√≠a
# VITE_SENDGRID_API_KEY=SG.xxxxxxxxxxxxx
# VITE_SENDGRID_FROM_EMAIL=noreply@tudominio.com

# Opci√≥n 3: Gmail SMTP (Solo testing, no producci√≥n)
# VITE_SMTP_HOST=smtp.gmail.com
# VITE_SMTP_PORT=587
# VITE_SMTP_USER=tu-email@gmail.com
# VITE_SMTP_PASS=tu-contrase√±a-de-aplicacion
# VITE_SMTP_FROM=tu-email@gmail.com

# ============================================
# INSTRUCCIONES DE CONFIGURACI√ìN
# ============================================
#
# 1. SUPABASE (Obligatorio):
#    - Crea proyecto en supabase.com
#    - Ejecuta docs/sql/supabase_functions.sql en SQL Editor
#    - Copia URL y Anon Key desde Settings ‚Üí API
#
# 2. EmailJS (Opcional pero recomendado):
#    - Crea cuenta en emailjs.com
#    - Conecta tu email (Gmail, Outlook, etc.)
#    - Crea template de factura
#    - Copia: Public Key, Service ID, Template ID
#    - Ver gu√≠a: docs/setup/CONFIGURAR_EMAILJS.md
#
# 3. Email de Testing (IMPORTANTE):
#    - Configura VITE_TEST_EMAIL con un email REAL y V√ÅLIDO
#    - Este email recibir√° todos los emails de desarrollo
#    - Previene bounced emails en Supabase
#    - Solo se usa en localhost, no en producci√≥n
#
# 4. Desarrollo:
#    - Copia este archivo: cp .env.example .env.local
#    - Reemplaza los valores con tus credenciales reales
#    - Reinicia el servidor: npm run dev
#
# 5. Producci√≥n (Vercel/Netlify):
#    - Configura las variables en el dashboard de tu hosting
#    - NO incluyas VITE_TEST_EMAIL en producci√≥n
#    - Considera usar SMTP personalizado (Resend/SendGrid)
#    - NO subas el archivo .env.local al repositorio
#
# ============================================
# MODO DEMO vs PRODUCCI√ìN
# ============================================
# Si NO configuras EmailJS, la app funcionar√° en modo demo:
# - Las facturas SE CREAN correctamente
# - Los emails NO se env√≠an (se simula el env√≠o)
# - Ver√°s mensajes: "‚ö†Ô∏è Email NO enviado (modo demo)"
# - Todo lo dem√°s funciona perfectamente
#
# VALIDACI√ìN DE EMAILS:
# - Todos los emails se validan antes de enviar
# - Emails temporales/descartables son rechazados
# - En desarrollo: emails van a VITE_TEST_EMAIL
# - En producci√≥n: emails van al destinatario real (si es v√°lido)
#
# ============================================
# SEGURIDAD
# ============================================
# ‚ö†Ô∏è IMPORTANTE:
# - NO commitear el archivo .env.local al repositorio
# - El archivo .env.local est√° en .gitignore por seguridad
# - Usa variables de entorno en producci√≥n (Vercel/Netlify)
# - Rota las API keys peri√≥dicamente
# - Monitorea logs de email: getEmailStats() en consola
#
# ============================================
# üìä MONITOREO DE EMAILS
# ============================================
# Para ver estad√≠sticas de emails enviados, abre la consola
# del navegador y ejecuta:
#
#   import { getEmailStats } from './utils/emailValidation';
#   console.table(getEmailStats());
#
# Ver gu√≠a completa en: EMAIL_CONFIGURATION.md
#

# ============================================
# LOCAL-FIRST SYNC (FASE B - Opcional)
# ============================================
# Desactivado por defecto. Activar gradualmente por feature flag.

VITE_LOCAL_SYNC_ENABLED=false
VITE_LOCAL_SYNC_DEVTOOLS=false
VITE_LOCAL_SYNC_PREFER_PGLITE=true
VITE_LOCAL_SYNC_SHADOW_WRITES=true
VITE_LOCAL_SYNC_VERIFY_REMOTE=false
VITE_LOCAL_SYNC_OUTBOX_POLL_MS=4000
VITE_LOCAL_SYNC_OUTBOX_BATCH_SIZE=20
VITE_LOCAL_SYNC_OUTBOX_MAX_EVENTS_PER_TICK=200
VITE_LOCAL_SYNC_OUTBOX_MAX_RETRIES=5
VITE_LOCAL_SYNC_OUTBOX_RATE_WINDOW_SIZE=100
VITE_LOCAL_SYNC_OUTBOX_RATE_WINDOW_MINUTES=15
VITE_ELECTRIC_PULL_ENABLED=false
VITE_LOCAL_SYNC_READ_CACHE_TTL_MS=30000
VITE_FF_LOCAL_WRITE_SALES=false
VITE_FF_LOCAL_FIRST_SALES=false
VITE_FF_LOCAL_WRITE_PURCHASES=false
VITE_FF_LOCAL_FIRST_PURCHASES=false
VITE_FF_LOCAL_WRITE_ORDERS=false
VITE_FF_LOCAL_FIRST_ORDERS=false
VITE_FF_LOCAL_WRITE_TABLES=false
VITE_FF_LOCAL_FIRST_TABLES=false
VITE_FF_LOCAL_FIRST_ALL=false
VITE_FF_LOCAL_WRITE_PRODUCTS=false
VITE_FF_LOCAL_FIRST_PRODUCTS=false
VITE_FF_LOCAL_WRITE_SUPPLIERS=false
VITE_FF_LOCAL_FIRST_SUPPLIERS=false
VITE_FF_LOCAL_WRITE_INVOICES=false
VITE_FF_LOCAL_FIRST_INVOICES=false
VITE_FF_LOCAL_READ_PRODUCTS=false
VITE_FF_LOCAL_READ_SALES=false
VITE_FF_LOCAL_READ_PURCHASES=false
VITE_FF_LOCAL_READ_ORDERS=false
VITE_FF_LOCAL_READ_INVENTORY=false
VITE_FF_LOCAL_READ_INVOICES=false
